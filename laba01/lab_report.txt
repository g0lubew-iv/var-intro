===============================================
ОТЧЁТ ПО ЛАБОРАТОРНОЙ РАБОТЕ
Практика 1: Съёмка объекта и COLMAP
Датасет: South Building
Дата: Fri Jan  2 09:50:49 PM MSK 2026
===============================================

1. ИСХОДНЫЕ ДАННЫЕ:
------------------
- Датасет: South Building (публичный тестовый набор)
- Количество изображений: 
- Размер набора: 224M
- Камера: Настройки по умолчанию (SIMPLE_RADIAL)

2. РЕЗУЛЬТАТЫ ОБРАБОТКИ:
-----------------------
2.1. Feature Extraction:
  - Обработано изображений: 128 из 
  - Извлечено ключевых точек: 1428878
  - Среднее на изображение: 11163

2.2. Feature Matching:
  - Найдено соответствий (матчей): 8128
  - Среднее матчей на пару изображений: 1

2.3. Sparse Reconstruction:
  Не удалось создать sparse модель

2.4. Dense Reconstruction:
  - Пропущено (требуется CUDA)

3. ВИЗУАЛИЗАЦИЯ РЕЗУЛЬТАТОВ:
---------------------------
Для просмотра результатов выполните:

# Sparse модель:
QT_QPA_PLATFORM=xcb colmap gui --import_path sparse/0
# или
meshlab sparse_model.ply



Созданные файлы:
- sparse/0/              # sparse модель (бинарный формат)
- sparse_model.ply       # sparse модель (PLY формат)
- sparse_model.txt       # sparse модель (текстовый формат)


4. ВЫВОДЫ:
---------
1. South Building - качественный датасет для фотограмметрии с хорошей текстурой
   и достаточным перекрытием кадров.

2. Ключевым этапом является feature matching: для успешной реконструкции
   необходимо достаточное количество соответствий между изображениями.

3. Sparse reconstruction восстанавливает геометрию сцены и позиции камер,
   но не создаёт плотную поверхность.

4. Dense reconstruction требует значительных вычислительных ресурсов
   (GPU с CUDA) и времени, но создаёт детализированную 3D-модель.

5. Качество реконструкции напрямую зависит от:
   - Текстуры объекта/сцены
   - Перекрытия между кадрами (>60%)
   - Освещения и отсутствия бликов
   - Стабильности камеры при съёмке

5. РЕКОМЕНДАЦИИ ДЛЯ СЪЁМКИ:
-------------------------
1. Выбирайте объекты с выраженной, неоднородной текстурой
2. Обеспечьте равномерное освещение без бликов
3. Делайте снимки с перекрытием 70-80%
4. Обходите объект по 2-3 кругам (нижний, средний, верхний ряды)
5. Избегайте движущихся объектов и изменений освещения
6. Используйте фиксированные настройки камеры (выдержка, ISO, баланс белого)

===============================================
КОМАНДЫ ДЛЯ ПОВТОРЕНИЯ ЭКСПЕРИМЕНТА:
===============================================
# Весь пайплайн одной командой:
bash run_lab_south_building.sh

# Отдельные этапы:
# 1. Feature extraction
colmap feature_extractor --database_path database.db --image_path south-building/images

# 2. Feature matching
colmap exhaustive_matcher --database_path database.db

# 3. Sparse reconstruction
colmap mapper --database_path database.db --image_path south-building/images --output_path sparse

# 4. Dense reconstruction (требуется CUDA)
colmap image_undistorter --image_path south-building/images --input_path sparse/0 --output_path dense
colmap patch_match_stereo --workspace_path dense
colmap stereo_fusion --workspace_path dense --output_path dense/fused.ply
